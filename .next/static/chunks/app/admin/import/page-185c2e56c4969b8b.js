(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{63:(e,s,t)=>{"use strict";var r=t(7260);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},3941:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(8421).UU)("https://oxuxjsrdaafnycgsayqp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94dXhqc3JkYWFmbnljZ3NheXFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1ODE4MzUsImV4cCI6MjA4MDE1NzgzNX0.zHkLrSMfG0lFacOBnYm6BAOYJOIMwdIFwCrYTl3VpO0")},7077:(e,s,t)=>{Promise.resolve().then(t.bind(t,8701))},8701:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(5155),a=t(2115),l=t(63),n=t(3941);function i(){let[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!0),x=(0,l.useRouter)();(0,a.useEffect)(()=>{u()},[]);let u=async()=>{let{data:{user:e}}=await n.N.auth.getUser();e?d(!0):x.push("/admin/login"),m(!1)},p=e=>{i(s=>[...s,e])},h=async()=>{i([]),s(!0),p("\uD83D\uDE80 D\xe9marrage de l'import...");try{let e=await fetch("/api/import-existing-data",{method:"POST"}),s=await e.json();s.results&&s.results.forEach(e=>p(e)),s.success?(p("✅ Import termin\xe9! Retour au dashboard..."),setTimeout(()=>{x.push("/admin/dashboard")},2e3)):p("❌ Erreur: ".concat(s.error))}catch(e){p("❌ Erreur: ".concat(e instanceof Error?e.message:"Inconnue"))}finally{s(!1)}};return o?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"V\xe9rification..."}):c?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2 text-purple",children:"Import de Donn\xe9es"}),(0,r.jsx)("p",{className:"text-gray-400 mb-8",children:"Importe les contenus existants du site dans Supabase"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-purple mb-6",children:"\xc0 importer:"}),(0,r.jsxs)("ul",{className:"space-y-3 mb-8",children:[(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-purple",children:"✓"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"4 Versets bibliques"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Du composant Hero"})]})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-purple",children:"✓"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"4 \xc9v\xe9nements"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"C\xe9l\xe9brations et conf\xe9rences"})]})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-purple",children:"✓"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"7 Images"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Galerie et sections"})]})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-purple",children:"✓"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"3 Sections"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"About, Services, Community"})]})]})]}),(0,r.jsx)("button",{onClick:h,disabled:e,className:"w-full bg-purple hover:bg-purple-dark disabled:opacity-50 text-white font-bold py-3 rounded-lg transition",children:e?"⏳ Import en cours...":"\uD83D\uDCE5 Importer les donn\xe9es"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-purple mb-4",children:"Logs"}),(0,r.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto font-mono text-xs",children:0===t.length?(0,r.jsx)("p",{className:"text-gray-500",children:"Les logs appara\xeetront ici..."}):t.map((e,s)=>(0,r.jsx)("div",{className:"bg-gray-700 p-2 rounded text-gray-300",children:e},s))})]})]}),(0,r.jsx)("div",{className:"mt-8 bg-blue-900/30 border border-blue-700 rounded-lg p-6",children:(0,r.jsx)("p",{className:"text-sm text-blue-300",children:"\uD83D\uDCA1 Apr\xe8s l'import, tu pourras modifier tous ces contenus directement dans le dashboard"})})]})}):null}}},e=>{e.O(0,[421,441,255,358],()=>e(e.s=7077)),_N_E=e.O()}]);